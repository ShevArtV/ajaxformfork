<section class="contact-section spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                {set $secret = $_modx->config.secret}
                {set $validateDefault = 'secret:contains=^'~$secret~'^'}
                {'!AjaxForm' | snippet : [
                'form' =>  '@FILE chunks/forms/registerForm.html',
                'snippet' => 'FormIt',
                'hooks' => 'AjaxIdentification,FormItSaveForm,FormItAutoResponder',
                'method' => 'register',
                'successMessage' => 'Вы успешно зарегистрированы и будете перенаправлены в личный кабинет.',
                'customValidators' => 'userExists',
                'formName' => 'Регистрация по email',

                'fiarSubject' => 'Активация пользователя',
                'fiarFrom' => 'email@domain.ru',
                'fiarTpl' => '@FILE chunks/emails/activateEmail.html',

                'activation' => 1,
                'autoLogin' => 0,
                'redirectId' => '',
                'authenticateContexts' => ''
                'passwordField' => '',
                'usernameField' => '',
                'usergroupsField' => '',
                'moderate' => '',
                'redirectTimeout' => 3000,
                'usergroups' => 2,
                'activationResourceId' => 19,
                'extendedFieldPrefix' => 'extended_',
                'activationUrlTime' => 10800

                'validate' => 'email:required,username:userExists,fullname:required:minLength=^6^,password:required:minLength=^8^,
                password_confirm:password_confirm=^password^,'~$validateDefault,
                'validationErrorMessage' => 'Исправьте, пожалуйста, ошибки!',

                'phone.vTextRequired' => 'Укажите телефон.',
                'code.vTextRequired' => 'Введите код подтверждения.',
                'code.vTextCheckCode' => 'Неверный код подтверждения.',
                'password.vTextRequired' => 'Придумайте пароль.',
                'password.vTextMinLength' => 'Пароль должен быть не менее 8 символов.',
                'fullname.vTextRequired' => 'Укажите ФИО.',
                'fullname.vTextMinLength' => 'Слишком короткое ФИО.',
                'username.vTextUserExists' => 'Этот телефон уже используется. Укажите другой номер.',
                'secret.vTextContains' => 'Кажется Вы робот. Если это не так, обновите страницу.'
                ]}
            </div>
        </div>
    </div>
</section>
